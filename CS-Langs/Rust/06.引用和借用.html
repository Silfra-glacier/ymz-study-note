<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>06.引用和借用 | YMZ 学习笔记</title>
    <meta name="description" content="个人学习笔记栈">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/ymz-study-note/assets/style.DZUtOcN2.css" as="style">
    <link rel="preload stylesheet" href="/ymz-study-note/vp-icons.css" as="style">
    
    <script type="module" src="/ymz-study-note/assets/app.BSQuSX7e.js"></script>
    <link rel="preload" href="/ymz-study-note/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/ymz-study-note/assets/chunks/theme.DwY1obu-.js">
    <link rel="modulepreload" href="/ymz-study-note/assets/chunks/framework.Cizge8DQ.js">
    <link rel="modulepreload" href="/ymz-study-note/assets/CS-Langs_Rust_06.引用和借用.md.CQFPIoT-.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-0d3cd34b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fa0633f7></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fa0633f7>Skip to content</a><!--]--><!----><header class="VPNav" data-v-0d3cd34b data-v-013c6b70><div class="VPNavBar" data-v-013c6b70 data-v-16ea9f84><div class="wrapper" data-v-16ea9f84><div class="container" data-v-16ea9f84><div class="title" data-v-16ea9f84><div class="VPNavBarTitle has-sidebar" data-v-16ea9f84 data-v-44e06766><a class="title" href="/ymz-study-note/" data-v-44e06766><!--[--><!--]--><!--[--><img class="VPImage logo" src="/ymz-study-note/logo.svg" alt data-v-3ad6340a><!--]--><span data-v-44e06766>YMZ 学习笔记</span><!--[--><!--]--></a></div></div><div class="content" data-v-16ea9f84><div class="content-body" data-v-16ea9f84><!--[--><!--]--><div class="VPNavBarSearch search" data-v-16ea9f84><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-16ea9f84 data-v-4d0d1bbd><span id="main-nav-aria-label" class="visually-hidden" data-v-4d0d1bbd> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ymz-study-note/" tabindex="0" data-v-4d0d1bbd data-v-ded51d00><!--[--><span data-v-ded51d00>Home</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d0d1bbd data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4f13843b><span class="text" data-v-4f13843b><!----><span data-v-4f13843b>CS-Langs</span><span class="vpi-chevron-down text-icon" data-v-4f13843b></span></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><div class="items" data-v-da64addf><!--[--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/CS-Langs/C-C++/01.%E6%8C%87%E9%92%88/01.%E6%8C%87%E9%92%88%E5%92%8C%E6%95%B0%E7%BB%84.html" data-v-94cc76a9><!--[--><span data-v-94cc76a9>C/C++</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/CS-Langs/Rust/01.%E5%8F%98%E9%87%8F%E5%92%8C%E5%8F%AF%E5%8F%98%E6%80%A7.html" data-v-94cc76a9><!--[--><span data-v-94cc76a9>Rust</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d0d1bbd data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4f13843b><span class="text" data-v-4f13843b><!----><span data-v-4f13843b>English</span><span class="vpi-chevron-down text-icon" data-v-4f13843b></span></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><div class="items" data-v-da64addf><!--[--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/English/每日阅读/" data-v-94cc76a9><!--[--><span data-v-94cc76a9>每日阅读</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d0d1bbd data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4f13843b><span class="text" data-v-4f13843b><!----><span data-v-4f13843b>Front</span><span class="vpi-chevron-down text-icon" data-v-4f13843b></span></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><div class="items" data-v-da64addf><!--[--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/Front/nodejs/npm%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97.html" data-v-94cc76a9><!--[--><span data-v-94cc76a9>nodejs</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ymz-study-note/Linux/Linux%E6%8C%87%E4%BB%A4.html" tabindex="0" data-v-4d0d1bbd data-v-ded51d00><!--[--><span data-v-ded51d00>Linux</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/ymz-study-note/Git/git%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C.html" tabindex="0" data-v-4d0d1bbd data-v-ded51d00><!--[--><span data-v-ded51d00>Git</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d0d1bbd data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4f13843b><span class="text" data-v-4f13843b><!----><span data-v-4f13843b>Container</span><span class="vpi-chevron-down text-icon" data-v-4f13843b></span></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><div class="items" data-v-da64addf><!--[--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/Container/Docker/" data-v-94cc76a9><!--[--><span data-v-94cc76a9>Docker</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-4d0d1bbd data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4f13843b><span class="text" data-v-4f13843b><!----><span data-v-4f13843b>Other</span><span class="vpi-chevron-down text-icon" data-v-4f13843b></span></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><div class="items" data-v-da64addf><!--[--><!--[--><div class="VPMenuLink" data-v-da64addf data-v-94cc76a9><a class="VPLink link" href="/ymz-study-note/Other/VMware/%E6%89%A9%E5%B1%95%E7%A3%81%E7%9B%98.html" data-v-94cc76a9><!--[--><span data-v-94cc76a9>VMware</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-16ea9f84 data-v-44394f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-44394f84 data-v-89a8d8c1 data-v-6ea91e88><span class="check" data-v-6ea91e88><span class="icon" data-v-6ea91e88><!--[--><span class="vpi-sun sun" data-v-89a8d8c1></span><span class="vpi-moon moon" data-v-89a8d8c1></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-16ea9f84 data-v-5b07dc37 data-v-077346c2><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/Silfra" aria-label="gitee" target="_blank" rel="noopener" data-v-077346c2 data-v-f8dc1629><span class="vpi-social-gitee"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-16ea9f84 data-v-7c5d6c0b data-v-4f13843b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4f13843b><span class="vpi-more-horizontal icon" data-v-4f13843b></span></button><div class="menu" data-v-4f13843b><div class="VPMenu" data-v-4f13843b data-v-da64addf><!----><!--[--><!--[--><!----><div class="group" data-v-7c5d6c0b><div class="item appearance" data-v-7c5d6c0b><p class="label" data-v-7c5d6c0b>Appearance</p><div class="appearance-action" data-v-7c5d6c0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-7c5d6c0b data-v-89a8d8c1 data-v-6ea91e88><span class="check" data-v-6ea91e88><span class="icon" data-v-6ea91e88><!--[--><span class="vpi-sun sun" data-v-89a8d8c1></span><span class="vpi-moon moon" data-v-89a8d8c1></span><!--]--></span></span></button></div></div></div><div class="group" data-v-7c5d6c0b><div class="item social-links" data-v-7c5d6c0b><div class="VPSocialLinks social-links-list" data-v-7c5d6c0b data-v-077346c2><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/Silfra" aria-label="gitee" target="_blank" rel="noopener" data-v-077346c2 data-v-f8dc1629><span class="vpi-social-gitee"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-16ea9f84 data-v-bc02d676><span class="container" data-v-bc02d676><span class="top" data-v-bc02d676></span><span class="middle" data-v-bc02d676></span><span class="bottom" data-v-bc02d676></span></span></button></div></div></div></div><div class="divider" data-v-16ea9f84><div class="divider-line" data-v-16ea9f84></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-0d3cd34b data-v-a5b2dae5><div class="container" data-v-a5b2dae5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a5b2dae5><span class="vpi-align-left menu-icon" data-v-a5b2dae5></span><span class="menu-text" data-v-a5b2dae5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a5b2dae5 data-v-934c2d8c><button data-v-934c2d8c>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-0d3cd34b data-v-a350069e><div class="curtain" data-v-a350069e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a350069e><span class="visually-hidden" id="sidebar-aria-label" data-v-a350069e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-576bc41c><section class="VPSidebarItem level-0 has-active" data-v-576bc41c data-v-050236aa><!----><div class="items" data-v-050236aa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/01.%E5%8F%98%E9%87%8F%E5%92%8C%E5%8F%AF%E5%8F%98%E6%80%A7.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>01.变量和可变性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/02.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>02.数据类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/03.%E5%87%BD%E6%95%B0.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>03.函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/04.%E6%8E%A7%E5%88%B6%E6%B5%81.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>04.控制流</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/05.%E6%89%80%E6%9C%89%E6%9D%83.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>05.所有权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/06.%E5%BC%95%E7%94%A8%E5%92%8C%E5%80%9F%E7%94%A8.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>06.引用和借用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/07.%E6%89%80%E6%9C%89%E6%9D%83%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>07.所有权常见问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/08.Slice.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>08.Slice</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/09.Struct.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>09.Struct</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-050236aa data-v-050236aa><div class="item" data-v-050236aa><div class="indicator" data-v-050236aa></div><a class="VPLink link link" href="/ymz-study-note/CS-Langs/Rust/10.Enum.html" data-v-050236aa><!--[--><p class="text" data-v-050236aa>10.Enum</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-0d3cd34b data-v-eb41c5f4><div class="VPDoc has-sidebar has-aside" data-v-eb41c5f4 data-v-54b8ad45><!--[--><!--]--><div class="container" data-v-54b8ad45><div class="aside" data-v-54b8ad45><div class="aside-curtain" data-v-54b8ad45></div><div class="aside-container" data-v-54b8ad45><div class="aside-content" data-v-54b8ad45><div class="VPDocAside" data-v-54b8ad45 data-v-a11e770e><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-a11e770e data-v-4b85a422><div class="content" data-v-4b85a422><div class="outline-marker" data-v-4b85a422></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-4b85a422>On this page</div><ul class="VPDocOutlineItem root" data-v-4b85a422 data-v-0a998a0f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-a11e770e></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-54b8ad45><div class="content-container" data-v-54b8ad45><!--[--><!--]--><main class="main" data-v-54b8ad45><div style="position:relative;" class="vp-doc _ymz-study-note_CS-Langs_Rust_06_%E5%BC%95%E7%94%A8%E5%92%8C%E5%80%9F%E7%94%A8" data-v-54b8ad45><div><h1 id="_06-引用和借用" tabindex="-1">06.引用和借用 <a class="header-anchor" href="#_06-引用和借用" aria-label="Permalink to &quot;06.引用和借用&quot;">​</a></h1><h2 id="引用" tabindex="-1">引用 <a class="header-anchor" href="#引用" aria-label="Permalink to &quot;引用&quot;">​</a></h2><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p></p><p>引用是<strong>没有所有权</strong>的<strong>指针</strong>。</p></div><p>以下示例：</p><p><img src="/ymz-study-note/assets/image-20250209203231975.jv5zcdLy.png" alt="image-20250209203231975"></p><p>一般情况下，我们在 L3 处使用 <code>greet(m1, m2)</code> 进行函数调用，此时 <code>m1</code> 和 <code>m2</code> 的所有权将被转移到函数内部，此后，<code>m1</code> 和 <code>m2</code> 将不再可用。为了解决这种问题，rust 提供了<strong>引用</strong>的方法，如上示例，调用时前面加上 <code>&amp;</code> 符号，注意声明函数的参数时类型注解也加上 <code>&amp;</code> 符号，调用内存详细过程变成了下图，看到 <code>g1</code> 和 <code>g2</code> 指向了 <code>m1</code> 和 <code>m2</code> ，且最后 <code>m1</code> 和 <code>m2</code> 仍可用。<code>g1</code> 和 <code>g2</code> 是对变量 <code>m1</code> 和 <code>m2</code> 的引用，本身并不具有数据（不像 <code>m1</code> 和 <code>m2</code> 分别拥有自己指向的数据），因此当 <code>g1</code> 和 <code>g2</code> 被释放时，依照当栈上的变量被释放，指向的堆上的数据也被释放的原则，由于本身不指向数据，原有的数据并不会被释放。</p><p>因此，引用指向了其它指针，指向了 <code>m1</code> 和 <code>m2</code> ，因此是指针；由于指向的不是具体的数据，因此没有所有权，称引用是不具备所有权的指针。</p><p>以下代码段说明了这一点：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;World&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m1: {}, m2: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, m1, m2);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m1 的内存地址：{:p}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m1);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m1, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m2);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> format!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{}, {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, m1, m2);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> greet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(g1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g1: {}, g2: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g1, g2);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> address_in_g1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g1 存放的内容：{:p}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, address_in_g1);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g1 的内存地址：{:p}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">g1);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>m1: Hello, m2: World</span></span>
<span class="line"><span>m1 的内存地址：0x2a204ffab0</span></span>
<span class="line"><span>g1: Hello, g2: World</span></span>
<span class="line"><span>g1: Hello</span></span>
<span class="line"><span>g1 存放的内容：0x2a204ffab0</span></span>
<span class="line"><span>g1 的内存地址：0x2a204ff8a8</span></span></code></pre></div><p>可以看到，<code>g1</code> 中存放的是 <code>m1</code> 所在的内存地址，当直接打印 <code>m1</code> 时，<code>{}</code> 会<strong>自动解析</strong> <code>m1</code> 的内容（即指向 <code>Hello</code> 的内存地址）打印出 <code>Hello</code>。当打印 <code>g1</code> 时，<strong>自动解引用</strong>会首先根据 <code>g1</code> 中的指向 <code>m1</code> 的内存地址解析出 <code>m1</code> 的位置，然后根据 <code>m1</code> 的内容打印出 <code>m1</code> 指向的数据内容 <code>Hello</code>。</p><h2 id="解引用" tabindex="-1">解引用 <a class="header-anchor" href="#解引用" aria-label="Permalink to &quot;解引用&quot;">​</a></h2><p>上述的 <code>println!()</code> 宏实现了自动解引用，标准的解引用是使用 <code>*</code> 运算符，如下示例：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用 * 解引用，读取 heap 上的值，从而 a = 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 修改 heap 上的值，从而 x 现在为 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 两次解引用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// r1 是一个指向 x 的引用，指向 stack 上的 x</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> **</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r1;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 两次解引用，从而 b = 2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// r2 是指向 2 的引用，指向 heap 上的 2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r2;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 一次解引用，从而 c = 2</span></span></code></pre></div><p>图示如下：</p><p><img src="/ymz-study-note/assets/image-20250209221329670.Bvc4uREc.png" alt="image-20250209221329670"></p><h3 id="隐式解引用" tabindex="-1">隐式解引用 <a class="header-anchor" href="#隐式解引用" aria-label="Permalink to &quot;隐式解引用&quot;">​</a></h3><p>在 rust 中有很多方法自动实现了解引用，而没有显式的使用 <code>*</code> 进行解引用，具体有 3 个示例：</p><p><strong>示例 1：</strong></p><p>通过变量本身带有的方法隐式解引用：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x_abs1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> i32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 显式解引用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x_abs2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 隐式解引用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assert_eq!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x_abs1, x_abs2);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x_abs1: {}, x_abs2: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, x_abs1, x_abs2);</span></span></code></pre></div><p>输出：x_abs1: 1, x_abs2: 1</p><p>其中，<code>x.abs()</code> 就实现了自动解引用</p><p><strong>示例 2：</strong></p><p>变量本身带有的方法可以实现多层解引用：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 现在 r 是指向 x 的一个引用，不直接指向 -1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r_abs1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> i32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 显式解引用需要两次 **</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r_abs2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 隐式解引用可以自动实现多层解引用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assert_eq!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(r_abs1, r_abs2);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;r_abs1: {}, r_abs2: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, r_abs1, r_abs2);</span></span></code></pre></div><p>输出：r_abs1: 1, r_abs2: 1</p><p><strong>示例 3：</strong></p><p>反向解引用同样可以实现：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s_len1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 显式引用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s_len2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 隐式引用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assert_eq!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s_len1, s_len2);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s_len1: {}, s_len2: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, s_len1, s_len2);</span></span></code></pre></div><blockquote><p>在 rust 中的 <code>String</code> 中，变量 <code>s</code> 本身不是一个指针，而是一个结构体，其中包含 3 个元素：</p><ul><li>指向堆上数据的<strong>指针</strong>（这个指针指向 <code>&quot;Hello&quot;</code> 字符串的内存位置）</li><li>字符串的长度</li><li>字符串的容量</li></ul><p>因此不能通过 <code>*</code> 来获取指针，使用 <code>*</code> 是尝试获取这个结构体，这在 rust 中是不被允许的。使用 <code>&amp;</code> 方法，在 rust 中实现了可以拿到这个结构体中的指针指向的数据的方法，因此可以是哟个 <code>&amp;</code> 获取到 <code>Hello</code> 。</p><p>此时，不叫作解引用，而是引用。</p></blockquote><p><strong>题目：</strong></p><p>考虑以下程序，如果要访问 <code>x</code> 指向的 <code>0</code>，需要几次解引用（几次 <code>*</code> 号）？</p><p><img src="/ymz-study-note/assets/image-20250210115831561.87sKc2Bh.png" alt="image-20250210115831561"></p><p>答案：3 次</p><p>解析：</p><ul><li><code>*y</code> 表示 <code>x</code> 的引用，是 <strong><code>x</code> 在栈上的内存地址</strong></li><li><code>**y</code> 表示 <code>x</code> 本身，是根据 <code>x</code> 的内存地址找到的 <code>x</code></li><li><code>***y</code> 表示 <code>x</code> 指向的数据 <code>0</code>，是根据 <code>x</code> 的内容（数据 <code>0</code> 在堆上的内存地址）找到的 <code>0</code></li></ul><h2 id="不可变借用" tabindex="-1">不可变借用 <a class="header-anchor" href="#不可变借用" aria-label="Permalink to &quot;不可变借用&quot;">​</a></h2><p>在对一个可变数据进行不可变借用时，在不可变借用的变量的作用域结束前，该可变数据都不可以被修改。如下示例，虽然 <code>v</code> 是可变变量，但由于 <code>num</code> 是对 <code>v</code> 中的一个元素的不可变借用，因此在 <code>num</code> 的作用域结束前（或说 <code>num</code> 使用完成前），<code>v</code> 都不可以被修改。Rust 这样做的原因是避免若对原数据 <code>v</code> 进行修改时，<code>num</code> 原本指向的数据发生不期望的变化。如若允许 <code>v</code> 发生变化，则原本 <code>num</code> 指向的数据 <code>3</code> 可能就不是 <code>3</code> 了，存在安全问题。</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">v[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// v.push(4);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 报错，在 num 作用域结束前都不可对 v 进行修改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Third element is {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num);</span></span></code></pre></div><p>具体来讲：</p><p>查看变量 <code>v</code> 的数据内容：</p><p><img src="/ymz-study-note/assets/image-20250210122037512.BVYtRGjk.png" alt="image-20250210122037512"></p><p>可以看到 cap（容量）为 3，因此，如果允许 <code>v.push(4)</code> 的正常执行，由于容量不够，因此会在内存中<strong>新开辟一段</strong>长度为 4 的区域，将原本的 3 个数据拷贝到此，然后添加元素 4，导致原本的 <code>num</code> 对第 3 个元素的引用变成了一个<strong>无效的指针指向</strong>。</p><h2 id="可变借用" tabindex="-1">可变借用 <a class="header-anchor" href="#可变借用" aria-label="Permalink to &quot;可变借用&quot;">​</a></h2><p>在可变借用中，被借用的变量将失去所有权限，包括读权限，直到借用结束。</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;可变借用&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;v2: {:?}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v2);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v2[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 此时不可以访问 v2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;v2: {:?}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v2);</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>可变借用</span></span>
<span class="line"><span>v2: [1, 2, 3]</span></span>
<span class="line"><span>v2: [1, 2, 4]</span></span></code></pre></div><p><code>num2</code> 是 <code>v2</code> 的可变借用，因此 <code>num2</code> 可以修改 <code>v2</code> 中的元素 <code>v2[2]</code> ，如果程序较为复杂时，rust 无法得知在 <code>num2</code> 作用于结束前 <code>v2[2]</code> 元素的真实值，因此可能发生异常，这是 rust 不期望的，因此此时 <code>v2</code> 将不允许访问，也不允许编译通过。</p><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p></p><p>在同一作用域内，<strong>不能同时存在对同一变量的可变和不可变借用</strong>。</p><p>以下示例：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; World&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s2: {s2}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>无法通过编译，示意图如下：</p><p><img src="/ymz-study-note/assets/06.%E5%BC%95%E7%94%A8%E5%92%8C%E5%80%9F%E7%94%A8.4j3kBUcp.png" alt="06.引用和借用"></p><p>如果允许可变和不可变借用的同时存在，一旦可变借用修改了数据，不可变借用仍以为自己指向的数据是旧数据，导致产生未定义行为。</p></div><h2 id="box" tabindex="-1">Box <a class="header-anchor" href="#box" aria-label="Permalink to &quot;Box&quot;">​</a></h2><p>在 <strong>Rust</strong> 中，<code>Box&lt;T&gt;</code> 是一个 <strong>智能指针</strong>，用于在 <strong>堆上存储数据</strong>，访问值时需要 <code>*</code> 解引用。</p><p>示例：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x);</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>x: -1</span></span></code></pre></div><h3 id="box-的所有权" tabindex="-1">Box 的所有权 <a class="header-anchor" href="#box-的所有权" aria-label="Permalink to &quot;Box 的所有权&quot;">​</a></h3><p>Box 变量的所有权会发生移动，当发生移动后，该变量对堆上的数据不再拥有所有权，而是转移给了另一个变量，如下：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;f: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, f);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> g </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;g: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, g);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// println!(&quot;f: {}&quot;, f);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 此时发生报错，因为 -1 的所有权已经从 f 转移给了 g，f 不再可用</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>g: -1</span></span></code></pre></div><h3 id="box-的引用" tabindex="-1">Box 的引用 <a class="header-anchor" href="#box-的引用" aria-label="Permalink to &quot;Box 的引用&quot;">​</a></h3><p>Box 的引用可以被多个变量同时使用，而不存在所有权问题：</p><div class="language-rust vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;i: {}, j: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">j);</span></span></code></pre></div><p>输出：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>i: -1, j: -1</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-54b8ad45 data-v-edfc7758><!--[--><!--]--><div class="edit-info" data-v-edfc7758><!----><div class="last-updated" data-v-edfc7758><p class="VPLastUpdated" data-v-edfc7758 data-v-85ce5045>Last updated: <time datetime="2025-02-28T14:42:10.000Z" data-v-85ce5045></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-edfc7758><span class="visually-hidden" id="doc-footer-aria-label" data-v-edfc7758>Pager</span><div class="pager" data-v-edfc7758><a class="VPLink link pager-link prev" href="/ymz-study-note/CS-Langs/Rust/05.%E6%89%80%E6%9C%89%E6%9D%83.html" data-v-edfc7758><!--[--><span class="desc" data-v-edfc7758>Previous page</span><span class="title" data-v-edfc7758>05.所有权</span><!--]--></a></div><div class="pager" data-v-edfc7758><a class="VPLink link pager-link next" href="/ymz-study-note/CS-Langs/Rust/07.%E6%89%80%E6%9C%89%E6%9D%83%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98.html" data-v-edfc7758><!--[--><span class="desc" data-v-edfc7758>Next page</span><span class="title" data-v-edfc7758>07.所有权常见问题</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"CZIhnYXY\",\"container_docker_01.docker指南.md\":\"CIXoWpOR\",\"container_docker_02.基础指令.md\":\"vVh-l3Ft\",\"container_docker_03.docker 镜像.md\":\"vDgj8JGS\",\"container_docker_04.环境变量.md\":\"yyt1ohCK\",\"container_docker_05.command vs entrypoint.md\":\"DyJIh67C\",\"container_docker_06.docker compose 1.md\":\"DdbZSVJW\",\"container_docker_07.docker compose 2.md\":\"BKuJqmtJ\",\"container_docker_08.docker storage.md\":\"G-QLUaxs\",\"container_docker_09.docker network.md\":\"BSD55i_3\",\"container_docker_index.md\":\"BQGlmzuI\",\"cs-langs_c-c___01.指针_01.指针和数组.md\":\"V8N0HGPA\",\"cs-langs_c-c___01.指针_02.动态内存分配.md\":\"DYwSHl4u\",\"cs-langs_c-c___01.指针_03.引用.md\":\"C1sd9fpM\",\"cs-langs_c-c___01.指针_04.堆和栈.md\":\"Bu1l85VI\",\"cs-langs_c-c___02.智能指针_01.unique_ptr.md\":\"Dtq7v-m8\",\"cs-langs_c-c___02.智能指针_智能指针.md\":\"Cu-dKZs4\",\"cs-langs_index.md\":\"CeIccYbt\",\"cs-langs_rust_01.变量和可变性.md\":\"CvQ1jlfu\",\"cs-langs_rust_02.数据类型.md\":\"Bc51Bqav\",\"cs-langs_rust_03.函数.md\":\"DfjU1icH\",\"cs-langs_rust_04.控制流.md\":\"R2iDABKE\",\"cs-langs_rust_05.所有权.md\":\"5HRCEslN\",\"cs-langs_rust_06.引用和借用.md\":\"CQFPIoT-\",\"cs-langs_rust_07.所有权常见问题.md\":\"D2TS-HXa\",\"cs-langs_rust_08.slice.md\":\"CTUmkO9d\",\"cs-langs_rust_09.struct.md\":\"C65IPjsr\",\"cs-langs_rust_10.enum.md\":\"CL2-OCWY\",\"english_每日阅读_index.md\":\"U_6bbVFW\",\"front_nodejs_npm使用指南.md\":\"-jC0_YpC\",\"git_git参考手册.md\":\"CtIvkHm9\",\"index.md\":\"Cd5tR4uS\",\"linux_linux指令.md\":\"CNhPDOX4\",\"markdown-examples.md\":\"BDecLVV2\",\"other_vmware_扩展磁盘.md\":\"C38oXIUX\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"YMZ 学习笔记\",\"description\":\"个人学习笔记栈\",\"base\":\"/ymz-study-note/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"CS-Langs\",\"items\":[{\"text\":\"C/C++\",\"link\":\"/CS-Langs/C-C++/01.指针/01.指针和数组\"},{\"text\":\"Rust\",\"link\":\"/CS-Langs/Rust/01.变量和可变性\"}]},{\"text\":\"English\",\"items\":[{\"text\":\"每日阅读\",\"link\":\"/English/每日阅读/\"}]},{\"text\":\"Front\",\"items\":[{\"text\":\"nodejs\",\"link\":\"/Front/nodejs/npm使用指南\"}]},{\"text\":\"Linux\",\"link\":\"/Linux/Linux指令\"},{\"text\":\"Git\",\"link\":\"/Git/git参考手册\"},{\"text\":\"Container\",\"items\":[{\"text\":\"Docker\",\"link\":\"/Container/Docker/\"}]},{\"text\":\"Other\",\"items\":[{\"text\":\"VMware\",\"link\":\"/Other/VMware/扩展磁盘\"}]}],\"sidebar\":{\"/CS-Langs/C-C++/01.指针\":{\"text\":\"C-C++\",\"items\":[{\"text\":\"01.指针和数组\",\"link\":\"/CS-Langs/C-C++/01.指针/01.指针和数组\"},{\"text\":\"02.动态内存分配\",\"link\":\"/CS-Langs/C-C++/01.指针/02.动态内存分配\"},{\"text\":\"03.引用\",\"link\":\"/CS-Langs/C-C++/01.指针/03.引用\"},{\"text\":\"04.堆和栈\",\"link\":\"/CS-Langs/C-C++/01.指针/04.堆和栈\"}]},\"/CS-Langs/C-C++/02.智能指针\":{\"text\":\"C-C++\",\"items\":[{\"text\":\"01.unique_ptr\",\"link\":\"/CS-Langs/C-C++/02.智能指针/01.unique_ptr\"},{\"text\":\"智能指针\",\"link\":\"/CS-Langs/C-C++/02.智能指针/智能指针\"}]},\"/CS-Langs/Rust/\":{\"text\":\"Rust\",\"items\":[{\"text\":\"01.变量和可变性\",\"link\":\"/CS-Langs/Rust/01.变量和可变性\"},{\"text\":\"02.数据类型\",\"link\":\"/CS-Langs/Rust/02.数据类型\"},{\"text\":\"03.函数\",\"link\":\"/CS-Langs/Rust/03.函数\"},{\"text\":\"04.控制流\",\"link\":\"/CS-Langs/Rust/04.控制流\"},{\"text\":\"05.所有权\",\"link\":\"/CS-Langs/Rust/05.所有权\"},{\"text\":\"06.引用和借用\",\"link\":\"/CS-Langs/Rust/06.引用和借用\"},{\"text\":\"07.所有权常见问题\",\"link\":\"/CS-Langs/Rust/07.所有权常见问题\"},{\"text\":\"08.Slice\",\"link\":\"/CS-Langs/Rust/08.Slice\"},{\"text\":\"09.Struct\",\"link\":\"/CS-Langs/Rust/09.Struct\"},{\"text\":\"10.Enum\",\"link\":\"/CS-Langs/Rust/10.Enum\"}]},\"/Container/Docker/\":{\"text\":\"Docker\",\"items\":[{\"text\":\"01.Docker指南\",\"link\":\"/Container/Docker/01.Docker指南\"},{\"text\":\"02.基础指令\",\"link\":\"/Container/Docker/02.基础指令\"},{\"text\":\"03.Docker 镜像\",\"link\":\"/Container/Docker/03.Docker 镜像\"},{\"text\":\"04.环境变量\",\"link\":\"/Container/Docker/04.环境变量\"},{\"text\":\"05.command vs entrypoint\",\"link\":\"/Container/Docker/05.command vs entrypoint\"},{\"text\":\"06.Docker Compose 1\",\"link\":\"/Container/Docker/06.Docker Compose 1\"},{\"text\":\"07.Docker Compose 2\",\"link\":\"/Container/Docker/07.Docker Compose 2\"},{\"text\":\"08.Docker Storage\",\"link\":\"/Container/Docker/08.Docker Storage\"},{\"text\":\"09.Docker Network\",\"link\":\"/Container/Docker/09.Docker Network\"}]}},\"socialLinks\":[{\"icon\":\"gitee\",\"link\":\"https://gitee.com/Silfra\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>